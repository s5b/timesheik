<!doctype html>
<html lang="en" ng-app="timesheik">
<head>
    <meta charset="utf-8">
    <title>Robert Walters' TimeSheets</title>
    <link rel="stylesheet" href="css/timesheik.css"/>
</head>
<body>

<section id="mast">
    <h1>Timesheet a la AngularJS</h1>
</section>

<section class="rules">
    <h1>DEADLINE FOR TIMESHEETS IS MIDDAY MONDAY</h1>
    <p class="exception">If you are prevented from performing your placement for any reason, you must contact Robert Walters prior to your
        normal starting time on the day of your absence to inform your consultant of your absence and expected return to
        work.</p>
</section>

<section id="timesheet" ng-controller="Timesheet">
    <table>
        <thead>
        <tr>
            <th rowspan="2">Day</th>
            <th rowspan="2">Date</th>
            <th rowspan="2">Time Started</th>
            <th rowspan="2">Time Finished</th>
            <th rowspan="2">Break</th>
            <th colspan="2">Daily Hours Worked</th>
            <th rowspan="2">Meal Allow Payable Yes/No</th>
        </tr>
        <tr>
            <th>Normal</th>
            <th>Overtime</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="day in days">
            <th>{{dayOfTheWeek($index)}}</th>
            <th id="date_{{$index}}" ng-model='$parent.base_date' s5b-spin-date='{{days.length}},{{$index}},date,allowance,start'>{{dayDate($index)}}</th>
            <td class="time"><span id="start_{{$index}}" ng-model="day.start" s5b-spin-time='{{days.length}},{{$index}},start,date,finish'>{{day.start}}</span></td>
            <td class="time"><span id="finish_{{$index}}" ng-model="day.finish" s5b-spin-time='{{days.length}},{{$index}},finish,start,break_time'>{{day.finish}}</span></td>
            <td class="time"><span id="break_time_{{$index}}" ng-model="day.break_time" s5b-spin-time='{{days.length}},{{$index}},break_time,finish,overtime'>{{day.break_time}}</span></td>
            <td class="time"><span id="normal_{{$index}}">{{normal($index)}}</span></td>
            <td class="time"><span id="overtime_{{$index}}" ng-model="day.overtime" s5b-spin-time='{{days.length}},{{$index}},overtime,break_time,allowance'>{{day.overtime}}</span></td>
            <td class="text"><span id="allowance_{{$index}}" ng-model="day.allowance" s5b-spin-allowance='{{days.length}},{{$index}},allowance,overtime,date'>{{day.allowance}}</span></td>
        </tr>
        <tr>
            <td id="alterations" colspan="4">(Any alterations must be initialled by the Supervisor)</td>
            <th class="total">Weekly Total</th>
            <td class="time total"><span>{{totalNormal()}}</span></td>
            <td class="time total"><span>{{totalOvertime()}}</span></td>
            <td></td>
        </tr>
        </tbody>
    </table>
</section>


<!-- In production use:
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.2/angular.min.js"></script>
-->
<script src="lib/moment/moment.min.js"></script>
<script src="lib/angular/angular.js"></script>
<script src="js/app.js"></script>
<script src="js/services.js"></script>
<script src="js/time_arithmetic.js"></script>
<script src="js/controllers.js"></script>
<script src="js/filters.js"></script>
<script src="js/directives.js"></script>
</body>
</html>
